<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="de">
<head>
    <meta charset="UTF-8" />
    <title>AI Chat â€“ MVC</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900">
<div class="max-w-3xl mx-auto p-6">
    <h1 class="text-2xl font-semibold mb-4">ðŸ§  Demo AI Wissenspeicher (MVC)</h1>

    <!-- Formular -->
    <form th:action="@{/ask}" method="post" class="mb-4">
        <!-- CSRF-Feld nur einfÃ¼gen, wenn _csrf verfÃ¼gbar ist -->
        <th:block th:if="${_csrf != null}">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        </th:block>

        <textarea name="prompt" rows="4"
                  class="w-full border rounded-2xl p-3 mb-3"
                  placeholder="Frag mich etwas..."></textarea>

        <button type="submit"
                class="px-4 py-2 bg-indigo-600 text-white rounded-2xl shadow hover:bg-indigo-700">
            Abschicken
        </button>
    </form>

    <!-- Antwortbereich -->
    <div th:if="${chat}" class="mt-6 bg-white p-4 rounded-2xl shadow">
        <h2 class="font-medium mb-2">Antwort:</h2>
        <p class="text-sm text-gray-500 mb-2" th:text="'Prompt: ' + ${chat.prompt}"></p>
        <p th:text="${chat.answer}"></p>
    </div>
</div>
</body>
</html>
